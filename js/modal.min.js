const promoSlider = document.querySelector(".promo-slider"); if (promoSlider) { let a = promoSlider.querySelectorAll(".promo-slider__slide"), b = a.length - 1, c = a[0], d = a[b], e = promoSlider.querySelectorAll(".promo-slider__bullet"), f = e.length - 1, g = e[0], h = e[f]; const i = promoSlider.querySelector(".promo-slider__arrow_left"), j = promoSlider.querySelector(".promo-slider__arrow_right"); i.addEventListener("click", function () { for (let b = 0; b < a.length; ++b) { let c = a[b], f = a[b - 1], g = e[b], i = e[b - 1]; if (c.classList.contains("promo-slider__slide_current")) if (c.classList.remove("promo-slider__slide_current"), g.classList.remove("promo-slider__bullet_current"), !f) { d.classList.add("promo-slider__slide_current"), h.classList.add("promo-slider__bullet_current"); break } else { f.classList.add("promo-slider__slide_current"), i.classList.add("promo-slider__bullet_current"); break } } }), j.addEventListener("click", function () { for (let b = 0; b < a.length; ++b) { let d = a[b], f = a[b + 1], h = e[b], i = e[b + 1]; if (d.classList.contains("promo-slider__slide_current")) if (d.classList.remove("promo-slider__slide_current"), h.classList.remove("promo-slider__bullet_current"), !f) { c.classList.add("promo-slider__slide_current"), g.classList.add("promo-slider__bullet_current"); break } else { f.classList.add("promo-slider__slide_current"), i.classList.add("promo-slider__bullet_current"); break } } }); for (let b = 0; b < e.length; ++b)e[b].addEventListener("click", function () { let c = e[b], d = a[b], f = promoSlider.querySelector(".promo-slider__bullet_current"), g = promoSlider.querySelector(".promo-slider__slide_current"); f.classList.remove("promo-slider__bullet_current"), g.classList.remove("promo-slider__slide_current"), c.classList.add("promo-slider__bullet_current"), d.classList.add("promo-slider__slide_current") }) } const servicesSlider = document.querySelector(".services-slider-tabs"); if (servicesSlider) { let a = servicesSlider.querySelectorAll(".services-slider-tabs-list__tab"), b = servicesSlider.querySelectorAll(".services-slider-info-list__item"); for (let c = 0; c < a.length; ++c)a[c].addEventListener("click", function () { let d = a[c], e = b[c], f = servicesSlider.querySelector(".services-slider-tabs-list__tab_current"), g = servicesSlider.querySelector(".services-slider-info-list__item_current"); f.classList.remove("services-slider-tabs-list__tab_current"), g.classList.remove("services-slider-info-list__item_current"), d.classList.add("services-slider-tabs-list__tab_current"), e.classList.add("services-slider-info-list__item_current") }) } const mapLink = document.querySelector(".office-info__map"), mapPopup = document.querySelector(".modal_map"); if (mapLink) { const a = mapPopup.querySelector(".modal__close"); mapLink.addEventListener("click", function (a) { a.preventDefault(), mapPopup.classList.add("modal_show") }), a.addEventListener("click", function (a) { a.preventDefault(), mapPopup.classList.remove("modal_show") }), window.addEventListener("keydown", function (a) { "Escape" === a.key && mapPopup.classList.contains("modal_show") && (a.preventDefault(), mapPopup.classList.remove("modal_show")) }) } const feedbackLink = document.querySelector(".office-info .button"), feedbackPopup = document.querySelector(".modal_feedback"); if (feedbackPopup) { const a = feedbackPopup.querySelector(".feedback-form"), b = a.querySelector("#feedback-name"), c = a.querySelector("#feedback-email"), d = a.querySelector("#feedback-feedback"), e = feedbackPopup.querySelector(".modal__close"); let f = !0, g = "", h = ""; try { g = localStorage.getItem("name"), h = localStorage.getItem("email") } catch (a) { f = !1 } feedbackLink.addEventListener("click", function (a) { a.preventDefault(), feedbackPopup.classList.add("modal_show"), g && h ? (b.value = g, c.value = h, d.focus()) : b.focus() }), e.addEventListener("click", function (a) { a.preventDefault(), feedbackPopup.classList.remove("modal_show"), feedbackPopup.classList.remove("modal_error"), b.classList.remove("modal_error-field"), c.classList.remove("modal_error-field"), d.classList.remove("modal_error-field") }), a.addEventListener("submit", function (a) { b.value && c.value && d.value ? (f && (localStorage.setItem("name", b.value), localStorage.setItem("email", c.value)), b.classList.remove("modal_error-field"), c.classList.remove("modal_error-field"), d.classList.remove("modal_error-field")) : (a.preventDefault(), !b.value && b.classList.add("modal_error-field"), !c.value && c.classList.add("modal_error-field"), !d.value && d.classList.add("modal_error-field"), feedbackPopup.classList.remove("modal_error"), feedbackPopup.offsetWidth = feedbackPopup.offsetWidth, feedbackPopup.classList.add("modal_error")) }), window.addEventListener("keydown", function (a) { "Escape" === a.key && feedbackPopup.classList.contains("modal_show") && (a.preventDefault(), feedbackPopup.classList.remove("modal_show"), feedbackPopup.classList.remove("modal_error"), b.classList.remove("modal_error-field"), c.classList.remove("modal_error-field"), d.classList.remove("modal_error-field")) }) } let buyButtons = document.querySelectorAll(".products-list__buy-button"); const successfulCartPopup = document.querySelector(".modal_successful-cart"); if (buyButtons) { const a = successfulCartPopup.querySelector(".modal__close"), b = successfulCartPopup.querySelector(".button_no-fill"); for (buyButton of buyButtons) buyButton.addEventListener("click", function (a) { a.preventDefault(), successfulCartPopup.classList.add("modal_show") }); a.addEventListener("click", function (a) { a.preventDefault(), successfulCartPopup.classList.remove("modal_show") }), b.addEventListener("click", function (a) { a.preventDefault(), successfulCartPopup.classList.remove("modal_show") }), window.addEventListener("keydown", function (a) { "Escape" === a.key && successfulCartPopup.classList.contains("modal_show") && (a.preventDefault(), successfulCartPopup.classList.remove("modal_show")) }) }
